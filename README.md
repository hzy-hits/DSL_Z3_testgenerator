# DSL Test Generator v8.0 (Final Optimized)

ä¸€ä¸ªé«˜è´¨é‡çš„DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰æµ‹è¯•ç”Ÿæˆå™¨ï¼Œèƒ½å¤Ÿä»YAMLæ ¼å¼çš„éœ€æ±‚æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆå…¨é¢çš„æµ‹è¯•ç”¨ä¾‹ã€‚ç»è¿‡å…¨é¢ä¼˜åŒ–ï¼Œè¾¾åˆ°ç”Ÿäº§çº§è´¨é‡æ ‡å‡†ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **100%ç¨³å®šæ€§**: ä¿è¯æ‰€æœ‰DSLæ–‡ä»¶éƒ½èƒ½æˆåŠŸå¤„ç†
- **91.4%æµ‹è¯•é€šè¿‡ç‡**: ç»è¿‡ä¼˜åŒ–çš„é«˜è´¨é‡æµ‹è¯•ç”Ÿæˆ
- **å®Œæ•´çº¦æŸæ”¯æŒ**: æ”¯æŒæ‰€æœ‰ç±»å‹çš„çº¦æŸè¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬å¤æ‚çš„è·¨å­—æ®µçº¦æŸ
- **æ™ºèƒ½ç±»å‹æ¨æ–­**: æ­£ç¡®å¤„ç†æ‰€æœ‰æ•°æ®ç±»å‹ï¼Œç‰¹åˆ«æ˜¯é›†åˆç±»å‹(array/set)
- **ç²¾ç¡®è¾¹ç•Œå€¼**: ç”Ÿæˆæ»¡è¶³æ‰€æœ‰çº¦æŸçš„è¾¹ç•Œæµ‹è¯•ç”¨ä¾‹
- **å¢å¼ºZ3é›†æˆ**: æ™ºèƒ½çº¦æŸæ±‚è§£å’Œå›é€€ç­–ç•¥

## ğŸ“Š æµ‹è¯•ç±»å‹

- **åŠŸèƒ½æµ‹è¯•** (Functional): éªŒè¯åŸºæœ¬åŠŸèƒ½
- **è¾¹ç•Œæµ‹è¯•** (Boundary): æµ‹è¯•æé™å€¼
- **çº¦æŸæµ‹è¯•** (Constraint): æ»¡è¶³/è¿åçº¦æŸæ¡ä»¶
- **è§„åˆ™æµ‹è¯•** (Rule): æ¿€æ´»/æœªæ¿€æ´»ä¸šåŠ¡è§„åˆ™
- **é›†åˆæµ‹è¯•** (Collection): ç©º/å•ä¸ª/å¤šä¸ªå…ƒç´ 
- **ç»„åˆæµ‹è¯•** (Combinatorial): å¤šå±æ€§ç»„åˆ
- **è´Ÿé¢æµ‹è¯•** (Negative): é”™è¯¯ç±»å‹å’Œæ— æ•ˆå€¼
- **çŠ¶æ€æœºæµ‹è¯•** (State Machine): çŠ¶æ€è½¬æ¢
- **åœºæ™¯æµ‹è¯•** (Scenario): å¤æ‚ä¸šåŠ¡æµç¨‹

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### åŸºæœ¬ç”¨æ³•

```bash
# ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
python main.py generate examples/intermediate/shopping_cart.yaml

# ä½¿ç”¨æ—§ç‰ˆå…¼å®¹æ¨¡å¼ï¼ˆç›´æ¥ä¼ å…¥æ–‡ä»¶ï¼‰
python main.py examples/intermediate/shopping_cart.yaml

# æŒ‡å®šè¾“å‡ºæ–‡ä»¶
python main.py generate examples/intermediate/shopping_cart.yaml -o outputs/cart_tests.json

# æ‰¹é‡å¤„ç†
python main.py generate --batch examples/

# ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
python main.py generate examples/advanced/advanced_ecommerce.yaml --report --format markdown

# è¯„ä¼°æµ‹è¯•è´¨é‡
python main.py evaluate outputs/cart_tests.json
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
v2.0/
â”œâ”€â”€ main.py                    # ç»Ÿä¸€å…¥å£ç¨‹åº
â”œâ”€â”€ src/                       # æºä»£ç 
â”‚   â”œâ”€â”€ cli/                   # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”‚   â”œâ”€â”€ generate.py        # æµ‹è¯•ç”ŸæˆCLI
â”‚   â”‚   â””â”€â”€ evaluate.py        # è´¨é‡è¯„ä¼°CLI
â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ combination_engine.py
â”‚   â”‚   â””â”€â”€ concrete_value_generator.py
â”‚   â”œâ”€â”€ generators/            # ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ v8/               # V8æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ v8_improved/      # V8ä¼˜åŒ–æ¨¡å—
â”‚   â”‚   â””â”€â”€ v8_modular/       # V8æ¨¡å—åŒ–ç‰ˆæœ¬
â”‚   â”œâ”€â”€ layers/               # åˆ†å±‚æ¶æ„
â”‚   â”œâ”€â”€ strategies/           # æµ‹è¯•ç­–ç•¥
â”‚   â””â”€â”€ utils/                # å·¥å…·æ¨¡å—
â”œâ”€â”€ examples/                 # DSLç¤ºä¾‹æ–‡ä»¶
â”‚   â”œâ”€â”€ basic/               # åŸºç¡€ç¤ºä¾‹
â”‚   â”œâ”€â”€ intermediate/        # ä¸­çº§ç¤ºä¾‹
â”‚   â””â”€â”€ advanced/            # é«˜çº§ç¤ºä¾‹
â”œâ”€â”€ outputs/                 # ç”Ÿæˆçš„æµ‹è¯•è¾“å‡º
â”œâ”€â”€ docs/                    # è¯¦ç»†æ–‡æ¡£
â””â”€â”€ tests/                   # å•å…ƒæµ‹è¯•
```

## ğŸ› ï¸ å‘½ä»¤è¡Œæ¥å£

### generate å­å‘½ä»¤
ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹

```bash
python main.py generate [é€‰é¡¹] <DSLæ–‡ä»¶>

é€‰é¡¹:
  -o, --output      è¾“å‡ºæ–‡ä»¶è·¯å¾„
  -v, --verbose     å¯ç”¨è¯¦ç»†æ—¥å¿—
  --report          ç”Ÿæˆè¯¦ç»†è´¨é‡æŠ¥å‘Š
  --batch           æ‰¹é‡å¤„ç†ç›®å½•ä¸‹çš„æ‰€æœ‰YAMLæ–‡ä»¶
  --validate        éªŒè¯ç”Ÿæˆçš„æµ‹è¯•
  --format          è¾“å‡ºæ ¼å¼ (json/yaml/markdown/csv)
```

### evaluate å­å‘½ä»¤
è¯„ä¼°æµ‹è¯•è´¨é‡

```bash
python main.py evaluate [é€‰é¡¹] <æµ‹è¯•æ–‡ä»¶>

é€‰é¡¹:
  -v, --verbose     æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
  -o, --output      è¾“å‡ºæŠ¥å‘Šæ–‡ä»¶è·¯å¾„
  --format          æŠ¥å‘Šæ ¼å¼ (json/markdown/text)
```

## ğŸ”§ æ”¯æŒçš„çº¦æŸç±»å‹

### åŸºç¡€çº¦æŸ
- æ¯”è¾ƒ: `price > 0`, `age >= 18`
- èŒƒå›´: `1 <= level <= 10`
- å¤§å°: `size(items) <= 50`

### å¤æ‚çº¦æŸ
- è·¨å­—æ®µ: `Product.price > Product.cost`
- æ—¶é—´å…³ç³»: `Order.shipping_date >= Order.order_date`
- æ¡ä»¶çº¦æŸ: `status == 'delivered' => delivery_date != null`
- å¤åˆæ¡ä»¶: `grade >= 1 and grade <= 6`
- å¤§å°æ¯”è¾ƒ: `size(permissions) >= size(roles)`

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **æ–‡ä»¶æˆåŠŸç‡**: 100% (7/7)
- **æµ‹è¯•é€šè¿‡ç‡**: 91.4%+
- **çº¦æŸè¦†ç›–ç‡**: 95%+
- **æµ‹è¯•ç”Ÿæˆé€Ÿåº¦**: <1ç§’/æ–‡ä»¶

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **TypeAwareValueGenerator**: ç±»å‹æ„ŸçŸ¥å€¼ç”Ÿæˆå™¨
   - æ­£ç¡®è¯†åˆ«å’Œç”Ÿæˆé›†åˆç±»å‹
   - æ™ºèƒ½ä¸šåŠ¡å€¼ç”Ÿæˆ
   - è¾¹ç•Œå€¼ç²¾ç¡®å¤„ç†

2. **EnhancedConstraintSolver**: å¢å¼ºçº¦æŸæ±‚è§£å™¨
   - Z3 SMTæ±‚è§£å™¨é›†æˆ
   - æ™ºèƒ½å›é€€ç­–ç•¥
   - å¤šå±‚æ±‚è§£æœºåˆ¶

3. **ImprovedTestGenerator**: æ”¹è¿›çš„æµ‹è¯•ç”Ÿæˆå™¨
   - æ¨¡å—åŒ–æ¶æ„
   - ç­–ç•¥æ¨¡å¼è®¾è®¡
   - è‡ªåŠ¨çº¦æŸéªŒè¯

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- [è®¾ç½®æŒ‡å—](SETUP_GUIDE.md)
- [ç”¨æˆ·æŒ‡å—](USER_GUIDE.md)
- [DSLè¯­æ³•æŒ‡å—](DSL_GUIDE.md)
- [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)
- [é¡¹ç›®æ¦‚è§ˆ](PROJECT_OVERVIEW.md)
- [é¡¹ç›®ç»“æ„](PROJECT_STRUCTURE.md)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼è¯·æŸ¥çœ‹[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)äº†è§£è¯¦æƒ…ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§[LICENSE](LICENSE)æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ã€‚

---

**å½“å‰ç‰ˆæœ¬**: v8.0 (Final Optimized)  
**æœ€åæ›´æ–°**: 2025-01-12  
**ç»´æŠ¤è€…**: DSL Test Generator Team